# Pflichtenheft  

## 1. Ziel und Zweck
Ziel des Systems ist der Betrieb einer Schneideeinheit mit variabler Drehzahl und zustandsbasierter Wartungslogik.  
Das System erfasst relevante Prozessdaten (Stromaufnahme, Vibration), berechnet daraus den Verschleißzustand der Schneide und generiert Wartungsempfehlungen.  
Bedienung und Anzeige erfolgen über ein User-Interface, Ereignisse werden protokolliert und über USB exportiert.  

---

## 2. Ausgangsbasis
**Referenz:** Lastenheft „Schneideeinheit – Zustandsüberwachung“  
**Grundlagen:**  
- EN ISO 13849-1 Performance Level d (Sicherheitsanforderungen)  
- FAT32-Kompatibilität (USB-Datenaustausch)  
- Interne Spezifikationen zur Messdatenerfassung und Motorregelung  

---

## 3. Systemübersicht

### 3.1 Funktionsblöcke
- **TF-01 Antrieb & Drehzahlregelung**  
- **TF-02 User-Interface (UI)**  
- **TF-03 Sensorik & Zustandsüberwachung**  
- **TF-04 Restlebensdauer & Wartungslogik**  
- **TF-05 Datenerfassung & Protokollierung**

### 3.2 Systemgrenzen
- Das System steuert **nur** den Schneidemotor.  
- Keine Steuerung anderer Maschinenachsen.  
- Kommunikation mit UI, Sensoren und USB-Datenträger.

---

## 4. Anforderungen

### 4.1 Funktionale Requirements

| Nr. | Beschreibung | Umsetzung in Teilfunktion |
|-----|---------------|----------------------------|
| F1 | Variable Drehzahl 500–3000 U/min, regelbar in 10 %-Schritten | TF-01 |
| F2 | Drehzahl über UI einstellbar, Übertragung ≤ 250 ms | TF-01, TF-02 |
| F3 | Strom- und Vibrationsmessung (200 ms Intervall) | TF-03 |
| F4 | Berechnung Restlebensdauer (alle 10 s aus Zeit, Schnittzahl, Belastung) | TF-04 |
| F5 | Wartungsempfehlung bei RUL < 10 %, Pop-up am Display | TF-04, TF-02 |
| F6 | Anzeige Betriebsmodi, Sollwerte, Presets; Änderungen ≤ 100 ms | TF-02 |
| F7 | Loggen von Ereignissen (Zeitstempel ± 1 s, Fehlercode, Beschreibung) | TF-05 |
| F8 | CSV-Export via USB 2.0 (FAT32, < 5 s / 1000 Einträge) | TF-02, TF-05 |
| F9 | Safety-Fehler (Not-Halt, Bedienerschutz) stoppt Motor < 0,5 s | TF-01 |

---

### 4.2 Nicht-funktionale Requirements

| Nr. | Beschreibung | Kategorie | Betroffene Teilfunktionen |
|-----|---------------|------------|----------------------------|
| NF1 | Sicherheit nach EN ISO 13849-1 PL d | Sicherheit | TF-01, TF-02, TF-05 |
| NF2 | UI reagiert ≤ 0,3 s, Handschuhbedienung möglich | Usability | TF-02 |
| NF3 | Stillsetzen gefährdender Bewegungen ≤ 0,5 s ± 0,05 s | Sicherheit/Leistung | TF-01, TF-02 |
| NF4 | UI-Anzeige aktualisiert alle 500 ms | Performance | TF-02 |
| NF5 | USB-Schnittstelle FAT32, bis 4 GB Dateigröße | Kompatibilität | TF-05 |

---

## 5. Teilfunktionalitäten

| Nr. | Bezeichnung | Beschreibung | Zugeordnete Requirements |
|-----|--------------|---------------|----------------------------|
| TF-01 | Antrieb & Drehzahlregelung | Regelung des Schneidemotors, Sollwertverarbeitung, sicherer Stillstand | F1, F2, F9, NF1, NF3 |
| TF-02 | User-Interface | Anzeige von Betriebsmodi, Sollwerten, Presets; Eingabe und Rückmeldung; Fehler-Pop-ups | F2, F5, F6, F8, NF2, NF4 |
| TF-03 | Sensorik & Zustandsüberwachung | Erfassung von Stromaufnahme und Vibration zur Zustandsbewertung | F3 |
| TF-04 | Restlebensdauer & Wartungslogik | Berechnung der Restlebensdauer, Generierung von Wartungsempfehlungen | F4, F5 |
| TF-05 | Datenerfassung & Protokollierung | Aufzeichnung und Export von Fehler- und Betriebsdaten (CSV über USB) | F7, F8, NF5 |

---

## 7. Schnittstellen

| Schnittstelle | Richtung | Beschreibung |
|----------------|-----------|---------------|
| UI ↔ Antrieb | bidirektional | Sollwertübertragung (≤ 250 ms), Statusrückmeldung |
| Sensorik ↔ Logik | unidirektional | Messdaten alle 200 ms an RUL-Berechnung |
| Logik ↔ UI | bidirektional | Anzeige der Restlebensdauer, Wartungsmeldung |
| Logger ↔ USB | unidirektional | CSV-Export auf FAT32-Medium |
| Safety-Kette | unidirektional | Not-Halt-Signal an Antrieb (Stillsetzen < 0,5 s) |

---

## 8. Sicherheit & Normenbezug
- Umsetzung gemäß **EN ISO 13849-1 Performance Level d**  
- Sichere Abschaltung (STO) bei Not-Halt oder Türöffnung innerhalb < 0,5 s  
- Protokollierung aller Safety-Events mit Zeitstempel (± 1 s)  
- Regelmäßige Plausibilitätsprüfung der Sensorwerte  

---

## 9. Tests und Verifikation
- **Funktionstest:** Prüfung aller Soll-/Ist-Drehzahlen, UI-Reaktionszeiten  
- **Safety-Test:** Nachweis Abschaltzeit < 0,5 s (NF3)  
- **Performance-Test:** UI-Update ≤ 500 ms, Exportdauer < 5 s/1000 Einträge  
- **Usability-Test:** Bedienbarkeit mit Handschuhen, Reaktion ≤ 0,3 s  
- **Kompatibilitätstest:** FAT32-Datenträger bis 4 GB  

---
